<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SENTINEL | Ultimate Security Ecosystem</title>
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2300f2ff' /%3E%3Cstop offset='100%25' style='stop-color:%230066ff' /%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M250 20 L450 100 L420 300 C400 400 300 480 250 500 C200 480 100 400 80 300 L50 100 Z' fill='%23050b14' stroke='url(%23g)' stroke-width='15' /%3E%3Ctext x='50%25' y='68%25' font-family='Arial' font-weight='900' font-size='300' fill='white' text-anchor='middle'%3ES%3C/text%3E%3C/svg%3E">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&family=Urbanist:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #00f2ff;
            --secondary: #0066ff;
            --gold: #ffd700;
            --bg: #020408;
            --card: rgba(10, 20, 40, 0.95);
            --border: 1px solid rgba(0, 242, 255, 0.2);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; scroll-behavior: smooth; font-family: 'Urbanist', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: white; overflow-x: hidden; }

        /* --- SECRET ADMIN PANEL --- */
        #secretAdmin {
            display: none; position: fixed; bottom: 0; left: 0; width: 100%; z-index: 99999;
            background: #000; border-top: 4px solid #ff4444; padding: 20px;
            box-shadow: 0 -10px 50px rgba(255,0,0,0.3);
            animation: slideUp 0.5s ease;
        }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        
        .adm-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; max-width: 1200px; margin: 0 auto; }
        .adm-label { color: #ff4444; font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; display: block; }
        .adm-in { background: #111; border: 1px solid #333; color: white; padding: 8px; width: 100%; border-radius: 4px; }
        .adm-btn { width: 100%; padding: 10px; border: none; font-weight: bold; cursor: pointer; border-radius: 4px; margin-top: 10px; }

        /* --- HEADER --- */
        header {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(2, 4, 8, 0.95); backdrop-filter: blur(15px); border-bottom: var(--border);
            padding: 15px 5%; display: flex; justify-content: space-between; align-items: center;
        }
        .logo { display: flex; align-items: center; gap: 10px; font-family: 'Chakra Petch'; font-size: 1.5rem; font-weight: bold; color: white; text-decoration: none; }
        .logo svg { height: 40px; }
        
        .nav-links { display: flex; gap: 25px; }
        .nav-links a { color: #aaa; text-decoration: none; font-weight: 600; font-family: 'Chakra Petch'; transition:0.3s; }
        .nav-links a:hover { color: var(--primary); }

        .btn-connect {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            color: #000; border: none; padding: 10px 25px; border-radius: 4px;
            font-weight: 800; cursor: pointer; font-family: 'Chakra Petch';
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3); transition: 0.3s;
        }
        .btn-connect:hover { transform: scale(1.05); box-shadow: 0 0 25px var(--primary); }
        .addr-disp { border: 1px solid var(--primary); color: var(--primary); padding: 8px 15px; border-radius: 4px; font-weight: bold; display: none; cursor: pointer; }

        /* --- MOBILE SIDEBAR --- */
        .sidebar { 
            position: fixed; top:0; right:-300px; width:280px; height:100%; 
            background:#050b14; z-index:2000; padding:80px 20px; transition:0.3s ease-in-out; 
            border-left:1px solid #333; box-shadow: -10px 0 50px black;
        }
        .sidebar.active { right:0; }
        .side-link { display:block; padding:15px; color:#ccc; text-decoration:none; border-bottom:1px solid #222; font-family: 'Chakra Petch'; font-size: 1.1rem; }
        .side-link i { width: 25px; color: var(--primary); }
        .overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1999; display:none; }
        .overlay.active { display:block; }

        /* --- HERO --- */
        .hero { padding: 140px 5% 50px; display: grid; grid-template-columns: 1.1fr 0.9fr; gap: 40px; max-width: 1300px; margin: 0 auto; align-items: center; }
        .hero h1 { font-family: 'Chakra Petch'; font-size: 3.5rem; line-height: 1.1; margin-bottom: 20px; }
        .hero h1 span { color: var(--primary); text-shadow: 0 0 20px var(--primary); }
        .hero p { color: #aaa; font-size: 1.1rem; margin-bottom: 30px; }

        /* --- PRESALE CARD --- */
        .card { background: var(--card); border: 1px solid rgba(0,242,255,0.2); border-radius: 20px; padding: 30px; position: relative; overflow: hidden; }
        .timer { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 20px 0; }
        .t-box { background: #000; padding: 10px; text-align: center; border-radius: 8px; border: 1px solid #333; }
        .t-num { font-size: 1.5rem; font-weight: bold; color: white; display: block; font-family: 'Chakra Petch'; }
        
        .prog-bar { height: 10px; background: #000; border-radius: 5px; overflow: hidden; border: 1px solid #333; margin-top: 10px; }
        .prog-fill { height: 100%; background: linear-gradient(90deg, var(--secondary), var(--primary)); width: 0%; transition: 1s; }

        .inp-grp { background: #000; padding: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border: 1px solid #333; }
        .inp-grp input { background: transparent; border: none; color: white; text-align: right; font-size: 1.3rem; width: 60%; outline: none; font-family: 'Chakra Petch'; }

        /* --- VAULT DEMO SECTION --- */
        .vault-section { padding: 80px 5%; max-width: 1200px; margin: 0 auto; text-align: center; }
        .vault-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-top: 40px; }
        .vault-card { 
            background: rgba(255,255,255,0.02); border: 1px solid #333; padding: 25px; border-radius: 15px; 
            transition: 0.3s; cursor: pointer; position: relative;
        }
        .vault-card:hover { border-color: var(--primary); transform: translateY(-5px); background: rgba(0,242,255,0.05); }
        .v-icon { font-size: 3rem; margin-bottom: 15px; }
        .v-btn { background: #222; color: white; border: 1px solid #444; padding: 10px; width: 100%; border-radius: 5px; margin-top: 15px; font-weight: bold; }
        .vault-card:hover .v-btn { background: var(--primary); color: black; border-color: var(--primary); }

        /* --- ROADMAP & FEATURES --- */
        .section { padding: 80px 5%; max-width: 1200px; margin: 0 auto; }
        .eco-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .eco-card { background: var(--card); padding: 30px; border-radius: 15px; border: 1px solid #333; }
        .eco-card h3 { color: white; font-family: 'Chakra Petch'; margin-bottom: 10px; }
        .eco-card p { color: #888; font-size: 0.9rem; }

        /* MODAL (Wallet & Win) */
        .modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index: 5000; align-items:center; justify-content:center; backdrop-filter: blur(5px); }
        .modal-box { background: #0f1520; border: 1px solid var(--primary); padding: 30px; border-radius: 20px; width: 90%; max-width: 350px; text-align: center; position: relative; }
        .close-mod { position: absolute; right: 20px; top: 15px; cursor: pointer; color: #666; font-size: 1.2rem; }

        @media(max-width:992px) { 
            .hero { grid-template-columns: 1fr; text-align: center; padding-top: 100px; }
            .nav-links { display:none; } 
        }
    </style>
</head>
<body>

    <div id="secretAdmin">
        <div style="display:flex; justify-content:space-between; margin-bottom:15px;">
            <span style="color:var(--primary); font-weight:bold;">/// ADMIN CONTROL PANEL</span>
            <span style="cursor:pointer; color:white;" onclick="document.getElementById('secretAdmin').style.display='none'">âœ•</span>
        </div>
        <div class="adm-grid">
            <div>
                <span class="adm-label">PRICE ($)</span>
                <input id="aPrice" class="adm-in" value="0.001" oninput="saveAdmin()">
            </div>
            <div>
                <span class="adm-label">RAISED ($)</span>
                <input id="aRaised" class="adm-in" value="750000" oninput="saveAdmin()">
            </div>
            <div>
                <span class="adm-label">TARGET ($)</span>
                <input id="aTarget" class="adm-in" value="5000000" oninput="saveAdmin()">
            </div>
            <div>
                <span class="adm-label">STAGE (1-4)</span>
                <input id="aStage" class="adm-in" value="1" oninput="saveAdmin()">
            </div>
            <div>
                <span class="adm-label">END DATE</span>
                <input type="datetime-local" id="aDate" class="adm-in" onchange="saveAdmin()">
            </div>
            <div>
                <span class="adm-label">STATUS</span>
                <button id="pBtn" class="adm-btn" onclick="togglePause()" style="background:orange; color:black;">ACTIVE</button>
            </div>
        </div>
    </div>

    <header>
        <a href="#" class="logo">
            <svg viewBox="0 0 500 500" width="40" height="40">
                <defs><linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#00f2ff"/><stop offset="100%" style="stop-color:#0066ff"/></linearGradient></defs>
                <path d="M250 20 L450 100 L420 300 C400 400 300 480 250 500 C200 480 100 400 80 300 L50 100 Z" fill="none" stroke="url(#g)" stroke-width="30"/>
                <text x="50%" y="68%" font-family="Arial" font-weight="bold" font-size="300" fill="white" text-anchor="middle">S</text>
            </svg>
            SENTINEL
        </a>
        <nav class="nav-links">
            <a href="#home">Home</a>
            <a href="#features">Ecosystem</a>
            <a href="#vault-demo" style="color:#ffd700;">Test Vaults</a>
            <a href="#roadmap">Roadmap</a>
        </nav>
        <div style="display:flex; gap:10px; align-items:center;">
            <button id="conBtn" class="btn-connect" onclick="connectWallet()">CONNECT</button>
            <div id="addrBox" class="addr-disp">0x...</div>
            <i class="fa fa-bars" style="font-size:1.5rem; color:white; cursor:pointer;" onclick="toggleMenu()"></i>
        </div>
    </header>

    <div class="overlay" id="ovl" onclick="toggleMenu()"></div>
    <div class="sidebar" id="sb">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
            <h3 style="color:white; font-family:'Chakra Petch'">MENU</h3>
            <span onclick="toggleMenu()" style="font-size:1.5rem; cursor:pointer; color:#666;">X</span>
        </div>
        <a href="#home" class="side-link" onclick="toggleMenu()"><i class="fa fa-home"></i> Home</a>
        <a href="#features" class="side-link" onclick="toggleMenu()"><i class="fa fa-network-wired"></i> Ecosystem</a>
        <a href="#vault-demo" class="side-link" onclick="toggleMenu()" style="color:#ffd700;"><i class="fa fa-box-open"></i> Test Vaults</a>
        <a href="#roadmap" class="side-link" onclick="toggleMenu()"><i class="fa fa-map"></i> Roadmap</a>
    </div>

    <div class="hero" id="home">
        <div>
            <h1>THE FORT KNOX OF <br><span>DIGITAL ASSETS</span></h1>
            <p>Decentralized inheritance, Panic Mode, and Ghost Vaults. Secure your legacy today.</p>
            <div style="display:flex; gap:15px;">
                <button class="btn-connect" onclick="document.getElementById('presale').scrollIntoView()">BUY PRESALE</button>
                <button style="background:transparent; border:1px solid #555; color:white; padding:10px 20px; border-radius:4px;">WHITEPAPER</button>
            </div>
        </div>

        <div class="card" id="presale">
            <div style="text-align:center; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:15px; margin-bottom:20px;">
                <h3 style="font-family:'Chakra Petch';">PRESALE STAGE <span id="dStage">1</span></h3>
                <p style="color:var(--primary); font-weight:bold; font-size:0.8rem;">ENDS IN</p>
            </div>

            <div class="timer">
                <div class="t-box"><span class="t-num" id="d">00</span>DAYS</div>
                <div class="t-box"><span class="t-num" id="h">00</span>HRS</div>
                <div class="t-box"><span class="t-num" id="m">00</span>MIN</div>
                <div class="t-box"><span class="t-num" id="s">00</span>SEC</div>
            </div>

            <div class="prog-bar"><div id="pBar" class="prog-fill" style="width:15%"></div></div>
            <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-top:5px; color:#aaa;">
                <span id="dRaised">$750,000</span>
                <span id="dTarget">$5,000,000</span>
            </div>
            <div style="text-align:center; margin-top:10px; color:#888;">1 SNTL = <span id="dPrice" style="color:white; font-weight:bold;">$0.001</span></div>

            <div style="margin-top:20px;">
                <div class="inp-grp">
                    <label style="color:#666;">PAY (ETH)</label>
                    <input type="number" id="amtIn" placeholder="0" oninput="calc()">
                </div>
                <div class="inp-grp">
                    <label style="color:#666;">GET (SNTL)</label>
                    <input type="number" id="amtOut" readonly placeholder="0">
                </div>
                <button id="buyBtn" class="btn-connect" style="width:100%; margin-top:10px;" onclick="buy()">CONNECT WALLET</button>
                <div id="dash" style="display:none; text-align:center; margin-top:15px; color:#00ff88;">Balance: <span id="myBal">0</span> SNTL</div>
            </div>
        </div>
    </div>

    <div class="vault-section" id="vault-demo">
        <h2 style="font-family:'Chakra Petch'; font-size:2.5rem;">SENTINEL <span style="color:#ffd700">VAULTS</span></h2>
        <p style="color:#aaa;">Try our Mystery Vaults (Test Mode). Open to see potential rewards.</p>
        
        <div class="vault-grid">
            <div class="vault-card" onclick="openTestVault('Bronze')">
                <div class="v-icon" style="color:#cd7f32;">ðŸ“¦</div>
                <h3>BRONZE VAULT</h3>
                <p>Cost: Free (Test)</p>
                <button class="v-btn">OPEN TEST</button>
            </div>
            <div class="vault-card" onclick="openTestVault('Silver')">
                <div class="v-icon" style="color:silver;">ðŸ’¼</div>
                <h3>SILVER VAULT</h3>
                <p>Cost: Free (Test)</p>
                <button class="v-btn">OPEN TEST</button>
            </div>
            <div class="vault-card" onclick="openTestVault('Gold')">
                <div class="v-icon" style="color:#ffd700;">ðŸ‘‘</div>
                <h3>GOLD VAULT</h3>
                <p>Cost: Free (Test)</p>
                <button class="v-btn">OPEN TEST</button>
            </div>
            <div class="vault-card" onclick="openTestVault('SNTL')">
                <div class="v-icon" style="color:var(--primary);">ðŸ’Ž</div>
                <h3>SNTL VAULT</h3>
                <p>Daily Free Box</p>
                <button class="v-btn">OPEN TEST</button>
            </div>
        </div>
    </div>

    <div class="section" id="features">
        <h2 style="text-align:center; font-family:'Chakra Petch'; margin-bottom:40px;">THE <span>ECOSYSTEM</span></h2>
        <div class="eco-grid">
            <div class="eco-card">
                <h3 style="color:var(--primary);">GHOST VAULT</h3>
                <p>Private asset mixer using ZK-Snarks. Deposit public, withdraw private.</p>
            </div>
            <div class="eco-card">
                <h3 style="color:var(--primary);">LEGACY PROTOCOL</h3>
                <p>Auto-transfer assets to heirs if inactivity is detected.</p>
            </div>
            <div class="eco-card">
                <h3 style="color:#ff4444;">PANIC MODE</h3>
                <p>Fake vault access for duress situations.</p>
            </div>
        </div>
    </div>

    <div class="modal" id="resModal">
        <div class="modal-box" style="border-color:#ffd700;">
            <div style="font-size:3rem; margin-bottom:15px;">ðŸŽ‰</div>
            <h3 id="resTitle" style="color:white; margin-bottom:10px;">VAULT OPENED</h3>
            <p id="resMsg" style="color:#ccc; margin-bottom:20px;">You found: ...</p>
            <button class="btn-connect" onclick="document.getElementById('resModal').style.display='none'">CLOSE</button>
        </div>
    </div>

    <script>
        const OWNER = "0xd81f6b82683b4b8a2a08998dBcf33ebC5498715D";
        let state = { 
            price: 0.001, 
            raised: 750000, 
            target: 5000000, 
            stage: 1, 
            paused: false,
            endDate: new Date(new Date().getTime() + 5 * 24 * 60 * 60 * 1000).toISOString() // VarsayÄ±lan 5 gÃ¼n
        };
        let account = null;

        window.onload = () => {
            if(localStorage.getItem('s_config_v2')) state = JSON.parse(localStorage.getItem('s_config_v2'));
            // Admin paneline tarihi yÃ¼kle (input formatÄ± iÃ§in kesip biÃ§iyoruz)
            document.getElementById('aDate').value = state.endDate.slice(0, 16); 
            applyState();
            startTimer();
        };

        // --- MENU FUNCTION (FIXED) ---
        function toggleMenu() {
            const sb = document.getElementById('sb');
            const ov = document.getElementById('ovl');
            if(sb.classList.contains('active')) {
                sb.classList.remove('active');
                ov.classList.remove('active');
            } else {
                sb.classList.add('active');
                ov.classList.add('active');
            }
        }

        // --- WALLET ---
        async function connectWallet() {
            if(window.ethereum) {
                try {
                    const provider = new ethers.providers.Web3Provider(window.ethereum);
                    const accounts = await provider.send("eth_requestAccounts", []);
                    handleLogin(accounts[0]);
                } catch(e) { alert("Denied"); }
            } else {
                window.location.href = "https://metamask.app.link/dapp/" + window.location.host + window.location.pathname;
            }
        }

        function handleLogin(addr) {
            account = addr;
            document.getElementById('conBtn').style.display = 'none';
            document.getElementById('addrBox').style.display = 'block';
            document.getElementById('addrBox').innerText = addr.substring(0,6) + "...";
            document.getElementById('dash').style.display = 'block';
            updateBuyBtn();

            // ADMIN CHECK
            if(account.toLowerCase() === OWNER.toLowerCase()) {
                document.getElementById('secretAdmin').style.display = 'block';
            }
        }

        // --- CALC ---
        function calc() {
            let v = parseFloat(document.getElementById('amtIn').value);
            if(v > 0) {
                // ETH = $2650 (Sabit aldÄ±m Ã¶rnek iÃ§in)
                let usdVal = v * 2650; 
                let tokens = usdVal / state.price;
                document.getElementById('amtOut').value = Math.floor(tokens).toLocaleString();
            } else {
                document.getElementById('amtOut').value = "";
            }
        }

        async function buy() {
            if(!account) { connectWallet(); return; }
            if(state.paused) { alert("Sale Paused"); return; }
            // GerÃ§ek satÄ±n alÄ±m kodu buraya gelir
            alert("Transaction Sent to: " + OWNER);
        }

        // --- ADMIN LOGIC ---
        function saveAdmin() {
            state.price = parseFloat(document.getElementById('aPrice').value);
            state.raised = parseFloat(document.getElementById('aRaised').value);
            state.target = parseFloat(document.getElementById('aTarget').value);
            state.stage = parseInt(document.getElementById('aStage').value);
            
            // Tarih AyarÄ±
            let dVal = document.getElementById('aDate').value;
            if(dVal) state.endDate = new Date(dVal).toISOString();

            localStorage.setItem('s_config_v2', JSON.stringify(state));
            applyState();
            calc(); // Fiyat deÄŸiÅŸince hesaplamayÄ± gÃ¼ncelle
        }

        function togglePause() {
            state.paused = !state.paused;
            saveAdmin();
        }

        function applyState() {
            document.getElementById('dPrice').innerText = "$" + state.price;
            document.getElementById('dRaised').innerText = "$" + state.raised.toLocaleString();
            document.getElementById('dTarget').innerText = "$" + state.target.toLocaleString();
            document.getElementById('dStage').innerText = state.stage;
            document.getElementById('pBar').style.width = (state.raised / state.target * 100) + "%";
            
            const pBtn = document.getElementById('pBtn');
            pBtn.innerText = state.paused ? "RESUME" : "PAUSE";
            pBtn.style.background = state.paused ? "green" : "orange";
            
            updateBuyBtn();
        }

        function updateBuyBtn() {
            const btn = document.getElementById('buyBtn');
            if(state.paused) { btn.innerText = "SALE PAUSED"; btn.disabled = true; btn.style.background = "#555"; }
            else if(account) { btn.innerText = "BUY TOKEN"; btn.disabled = false; btn.style.background = "linear-gradient(90deg, #0066ff, #00f2ff)"; }
            else { btn.innerText = "CONNECT WALLET"; btn.disabled = false; }
        }

        // --- TIMER LOGIC ---
        function startTimer() {
            setInterval(() => {
                const end = new Date(state.endDate).getTime();
                const now = new Date().getTime();
                const diff = end - now;

                if(diff > 0) {
                    document.getElementById('d').innerText = Math.floor(diff / (1000 * 60 * 60 * 24));
                    document.getElementById('h').innerText = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    document.getElementById('m').innerText = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    document.getElementById('s').innerText = Math.floor((diff % (1000 * 60)) / 1000);
                } else {
                    document.getElementById('d').innerText = "00";
                }
            }, 1000);
        }

        // --- DEMO VAULTS ---
        function openTestVault(type) {
            const modal = document.getElementById('resModal');
            const title = document.getElementById('resTitle');
            const msg = document.getElementById('resMsg');
            
            // Loading effect sim
            alert("Opening " + type + " Vault...");
            
            let result = "";
            let rand = Math.random();

            if(type === 'SNTL') {
                result = "150 SNTL (Daily Reward)";
            } else {
                if(rand < 0.4) result = "Nothing (Empty)... Try again!";
                else if(rand < 0.7) result = "5 XRP";
                else if(rand < 0.9) result = "0.2 SOL";
                else result = "JACKPOT! 0.1 ETH";
            }

            title.innerText = type.toUpperCase() + " VAULT";
            msg.innerText = "You found: " + result;
            modal.style.display = 'flex';
        }
    </script>
</body>
</html>
