 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SENTINEL | Secure Vault & Presale</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2300f2ff;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%230066ff;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='48' fill='%23000' stroke='url(%23g)' stroke-width='2'/%3E%3Cpath d='M50 20 L80 35 L80 65 L50 80 L20 65 L20 35 Z' fill='none' stroke='url(%23g)' stroke-width='2'/%3E%3Ctext x='50' y='62' font-family='Orbitron, sans-serif' font-size='32' font-weight='900' fill='url(%23g)' text-anchor='middle'%3ES%3C/text%3E%3C/svg%3E">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=Orbitron:wght@500;900&display=swap" rel="stylesheet">
    
    <style>
        :root { 
            --neon: #00f2ff; 
            --neon-glow: 0 0 15px rgba(0, 242, 255, 0.6);
            /* DAHA ŞEFFAF CAM AYARI */
            --glass-bg: rgba(20, 30, 40, 0.3); /* Daha koyu ama şeffaf */
            --glass-border: 1px solid rgba(0, 242, 255, 0.15);
            --glass-blur: blur(20px); /* Daha güçlü blur */
            --text-main: #ffffff;
        }
        
        * { box-sizing: border-box; transition: all 0.3s ease; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background-color: #000; color: var(--text-main); min-height: 100vh; overflow-x: hidden; position: relative;
            /* KASA GÖRSELİ */
            background-image: url('https://images.unsplash.com/photo-1614064641938-3bbee52942c7?q=80&w=2070');
            background-size: cover; background-position: center; background-attachment: fixed;
        }

        /* KARARTMA */
        .overlay-bg { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0, 5, 15, 0.5); z-index: 0; }

        /* UÇUŞAN COINLER ALANI */
        #coinContainer { position: fixed; top:0; left:0; width:100%; height:100%; z-index: 1; pointer-events: none; overflow: hidden; }
        .float-coin { position: absolute; opacity: 0.6; animation: floatAnim 12s infinite ease-in-out; }
        @keyframes floatAnim { 
            0% { transform: translateY(0) rotate(0deg) scale(1); } 
            50% { transform: translateY(-40px) rotate(20deg) scale(1.05); } 
            100% { transform: translateY(0) rotate(0deg) scale(1); } 
        }

        /* CAM PANEL (GLASSMORPHISM) */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
            border: var(--glass-border);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        /* HEADER */
        header { 
            position: fixed; top: 0; width: 100%; z-index: 1000; 
            background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(15px); border-bottom: var(--glass-border);
            padding: 15px 5%; display: flex; justify-content: space-between; align-items: center;
        }
        
        .logo-area { display: flex; align-items: center; gap: 10px; font-family: 'Orbitron', sans-serif; font-size: 1.2rem; font-weight: 900; letter-spacing: 2px; color: var(--neon); text-shadow: var(--neon-glow); }

        .btn-connect { 
            background: linear-gradient(135deg, rgba(0, 242, 255, 0.9), rgba(0, 100, 255, 0.9)); 
            color: #fff; border: 1px solid rgba(255,255,255,0.2);
            padding: 10px 20px; border-radius: 12px; font-weight: 800; cursor: pointer; 
            backdrop-filter: blur(5px); box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
        }
        .btn-connect:hover { transform: scale(1.05); box-shadow: 0 0 25px rgba(0, 242, 255, 0.6); }

        /* ADMIN PANEL */
        #adminPanel {
            display: none; position: fixed; bottom: 0; left: 0; width: 100%;
            background: rgba(20, 0, 0, 0.9); border-top: 2px solid #ff4444; backdrop-filter: blur(10px);
            padding: 20px; z-index: 9999; max-height: 300px; overflow-y: auto;
        }
        .admin-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; max-width: 1200px; margin: 0 auto; }
        .admin-item input { width: 100%; background: rgba(255,255,255,0.1); border: 1px solid #551111; color: white; padding: 5px; border-radius: 5px; }
        .btn-admin { background: #ff4444; color: white; border: none; padding: 10px; width: 100%; font-weight: bold; border-radius: 5px; cursor: pointer; }

        /* MAIN LAYOUT */
        .main-container { 
            position: relative; z-index: 10;
            display: grid; grid-template-columns: 1fr; gap: 40px; 
            padding: 120px 5% 100px 5%; max-width: 1200px; margin: 0 auto;
        }
        @media(min-width: 992px) { .main-container { grid-template-columns: 1.2fr 0.8fr; align-items: start; } }

        .hero-text h1 { font-family: 'Orbitron'; font-size: 2.8rem; line-height: 1.1; margin-bottom: 20px; text-shadow: 0 0 20px rgba(0,0,0,0.8); }
        .hero-text h1 span { color: var(--neon); text-shadow: var(--neon-glow); }
        .hero-text p { color: #ccc; line-height: 1.6; margin-bottom: 30px; font-size: 1.1rem; text-shadow: 0 2px 5px rgba(0,0,0,0.8); }

        /* PRESALE CARD (GLASS) */
        .presale-card { padding: 30px; position: relative; overflow: hidden; }
        
        .countdown { display: flex; justify-content: center; gap: 10px; margin: 20px 0; }
        .time-box { background: rgba(0, 0, 0, 0.4); padding: 10px 15px; border-radius: 10px; font-family: 'Orbitron'; min-width: 60px; border: var(--glass-border); text-align: center; }
        .time-label { font-size: 0.6rem; color: var(--neon); display: block; margin-top: 3px; }

        .pay-tabs { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-bottom: 20px; }
        .pay-tab { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 10px 5px; font-size: 0.7rem; cursor: pointer; text-align: center; border-radius: 10px; display: flex; flex-direction: column; align-items: center; gap: 5px; transition: 0.3s; }
        .pay-tab img { width: 20px; filter: grayscale(100%); }
        .pay-tab.active { background: rgba(0, 242, 255, 0.15); border-color: var(--neon); color: var(--neon); transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .pay-tab.active img { filter: grayscale(0%); }
        .pay-tab.test-tab { border-color: #ffaa00; color: #ffaa00; }

        .input-group input { width: 100%; background: rgba(0,0,0,0.4); border: var(--glass-border); padding: 18px; border-radius: 12px; color: white; font-size: 1.2rem; outline: none; text-align: right; }
        .input-group label { margin-bottom: 8px; display: block; font-size: 0.8rem; color: #aaa; }

        /* USER BALANCE DISPLAY */
        .user-balance { margin-top: 15px; padding: 15px; background: rgba(0, 242, 255, 0.05); border-radius: 10px; border: 1px dashed var(--neon); text-align: center; display: none; }
        
        /* SIDEBAR */
        .sidebar-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; display:none; backdrop-filter: blur(5px); }
        .sidebar { position: fixed; top:0; right:-300px; width:280px; height:100%; background: rgba(10, 10, 10, 0.95); border-left: var(--glass-border); z-index: 2001; padding: 20px; display: flex; flex-direction: column; gap: 20px; transition: 0.4s; }
        .sidebar.active { right: 0; }
        
        .hamburger { font-size: 1.5rem; color: var(--neon); cursor: pointer; }
        
        /* MODAL */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 5000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .modal-box { background: #111; border: 1px solid var(--neon); border-radius: 20px; padding: 25px; width: 90%; max-width: 400px; text-align: center; box-shadow: 0 0 50px rgba(0,242,255,0.15); }

    </style>
</head>
<body>

    <div class="overlay-bg"></div>
    <div id="coinContainer"></div> <div id="adminPanel">
        <div style="text-align:center; color:#ff4444; font-weight:bold; margin-bottom:10px;">COMMAND CENTER</div>
        <div class="admin-grid">
            <div class="admin-item"><label>Raised</label><input type="number" id="admRaised" value="250000"></div>
            <div class="admin-item"><label>Price</label><input type="number" id="admPrice" value="0.03"></div>
            <div class="admin-item"><label>Prog %</label><input type="number" id="admProg" value="5"></div>
            <div class="admin-item"><label>Days</label><input type="number" id="admDays" value="4"></div>
            <div class="admin-item"><button class="btn-admin" onclick="updateSite()">UPDATE</button></div>
        </div>
    </div>

    <div class="modal" id="walletModal">
        <div class="modal-box">
            <h3 style="color:white; margin-bottom:20px;">SELECT WALLET</h3>
            <div style="background:#222; padding:15px; border-radius:10px; margin-bottom:10px; cursor:pointer; display:flex; align-items:center; gap:15px;" onclick="connectManager('metamask')">
                <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Mirror.svg" width="30">
                <div style="text-align:left; color:white;">MetaMask<br><small style="color:#aaa;">Browser / App</small></div>
            </div>
            <div style="background:#222; padding:15px; border-radius:10px; margin-bottom:10px; cursor:pointer; display:flex; align-items:center; gap:15px;" onclick="connectManager('other')">
                <i class="fa fa-wallet" style="font-size:1.5rem; color:#aaa;"></i>
                <div style="text-align:left; color:white;">WalletConnect<br><small style="color:#aaa;">Trust / Best Wallet</small></div>
            </div>
            <button onclick="closeModal()" style="background:none; border:none; color:#666; cursor:pointer;">Close</button>
        </div>
    </div>

    <div class="sidebar-overlay" id="overlay" onclick="toggleSidebar()"></div>
    <div class="sidebar" id="sidebar">
        <div style="color:white; font-size:1.5rem; font-weight:bold; margin-bottom:20px;">MENU</div>
        <a href="#" onclick="toggleSidebar()" style="color:#ccc; text-decoration:none; padding:10px; border-bottom:1px solid #333;">Home</a>
        <a href="#" onclick="toggleSidebar()" style="color:#ccc; text-decoration:none; padding:10px; border-bottom:1px solid #333;">Vault</a>
        <a href="#" onclick="toggleSidebar()" style="color:#ccc; text-decoration:none; padding:10px; border-bottom:1px solid #333;">Whitepaper</a>
    </div>

    <header>
        <div class="logo-area">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2300f2ff;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%230066ff;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='48' fill='none' stroke='url(%23g)' stroke-width='2'/%3E%3Cpath d='M50 20 L80 35 L80 65 L50 80 L20 65 L20 35 Z' fill='none' stroke='url(%23g)' stroke-width='2'/%3E%3Ctext x='50' y='62' font-family='Orbitron, sans-serif' font-size='32' font-weight='900' fill='url(%23g)' text-anchor='middle'%3ES%3C/text%3E%3C/svg%3E" width="35" style="filter: drop-shadow(0 0 5px var(--neon));"> 
            SENTINEL
        </div>
        <div style="display:flex; align-items:center; gap:15px;">
            <button id="mainConnectBtn" class="btn-connect" onclick="openModal()">CONNECT</button>
            <div id="userAddress" style="display:none; border:1px solid var(--neon); color:var(--neon); padding:8px 15px; border-radius:10px; cursor:pointer;" onclick="disconnect()">0x...</div>
            <div class="hamburger" onclick="toggleSidebar()"><i class="fa fa-bars"></i></div>
        </div>
    </header>

    <div class="main-container">
        <div class="glass-panel" style="padding:40px; text-align:left;">
            <div class="hero-text">
                <h1>Future of <br><span>Digital Vault</span></h1>
                <p>Secure your legacy. Buy SNTL now and claim your tokens after the presale ends.</p>
            </div>
            
            <div style="display:flex; gap:15px; margin-bottom:30px;">
                <div style="text-align:center; flex:1; background:rgba(0,0,0,0.3); padding:10px; border-radius:10px;">
                    <i class="fa fa-shield-halved" style="color:var(--neon); font-size:1.5rem; margin-bottom:5px;"></i>
                    <div style="font-size:0.8rem;">SECURE</div>
                </div>
                <div style="text-align:center; flex:1; background:rgba(0,0,0,0.3); padding:10px; border-radius:10px;">
                    <i class="fa fa-bolt" style="color:var(--neon); font-size:1.5rem; margin-bottom:5px;"></i>
                    <div style="font-size:0.8rem;">FAST</div>
                </div>
            </div>

            <div style="background:rgba(0,0,0,0.4); padding:20px; border-radius:15px; border:1px dashed rgba(255,255,255,0.2);">
                <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                    <span style="color:#aaa;">YOUR WALLET BALANCE</span>
                    <span style="color:var(--neon);">CONNECTED</span>
                </div>
                <div style="font-size:1.5rem; font-weight:bold;" id="walletBal">0.00 SNTL</div>
                <div style="font-size:0.7rem; color:#666; margin-top:5px;">*Tokens will be claimable after presale.</div>
            </div>
        </div>

        <div class="glass-panel presale-card">
            <div style="text-align:center;">
                <h3 style="color:white; letter-spacing:1px;">PRESALE ENDS IN</h3>
                <div class="countdown">
                    <div class="time-box"><span id="cdDay">04</span><span class="time-label">DAYS</span></div>
                    <div class="time-box"><span id="cdHour">12</span><span class="time-label">HOURS</span></div>
                    <div class="time-box"><span id="cdMin">45</span><span class="time-label">MINS</span></div>
                    <div class="time-box"><span id="cdSec">10</span><span class="time-label">SECS</span></div>
                </div>
            </div>

            <div style="margin-bottom:20px;">
                <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px; color:#ccc;">
                    <span id="dispRaised">Raised: $250,000</span>
                    <span>Target: $5,000,000</span>
                </div>
                <div style="width:100%; height:8px; background:rgba(255,255,255,0.1); border-radius:5px; overflow:hidden;">
                    <div id="saleProgress" style="width:5%; height:100%; background:var(--neon); box-shadow: 0 0 10px var(--neon);"></div>
                </div>
                <div style="text-align:center; margin-top:10px; font-size:0.8rem; color:#aaa;">1 SNTL = <span style="color:var(--neon)" id="dispPrice">$0.03</span></div>
            </div>

            <div class="pay-tabs">
                <div class="pay-tab active" onclick="setTab('eth', this)"><img src="https://cryptologos.cc/logos/ethereum-eth-logo.png"> ETH</div>
                <div class="pay-tab" onclick="setTab('bnb', this)"><img src="https://cryptologos.cc/logos/bnb-bnb-logo.png"> BNB</div>
                <div class="pay-tab" onclick="setTab('usdc', this)"><img src="https://cryptologos.cc/logos/usd-coin-usdc-logo.png"> USDC</div>
                <div class="pay-tab" onclick="setTab('btc', this)"><img src="https://cryptologos.cc/logos/bitcoin-btc-logo.png"> BTC</div>
                <div class="pay-tab test-tab" onclick="setTab('sepolia', this)">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ffaa00;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23ffdd00;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='48' fill='none' stroke='url(%23g)' stroke-width='2'/%3E%3Cpath d='M50 20 L80 35 L80 65 L50 80 L20 65 L20 35 Z' fill='none' stroke='url(%23g)' stroke-width='2'/%3E%3Ctext x='50' y='62' font-family='Orbitron, sans-serif' font-size='32' font-weight='900' fill='url(%23g)' text-anchor='middle'%3ES%3C/text%3E%3C/svg%3E" style="filter: drop-shadow(0 0 3px #ffaa00);">
                    TEST
                </div>
            </div>

            <div class="input-group">
                <label>You Pay (<span id="currLabel">ETH</span>)</label>
                <input type="number" id="amtIn" placeholder="0" oninput="calc()">
            </div>
            <br>
            <div class="input-group">
                <label>You Receive (SNTL)</label>
                <input type="number" id="amtOut" readonly placeholder="0">
            </div>

            <button class="btn-connect" style="width:100%; padding:18px; margin-top:20px; font-size:1rem;" onclick="checkBuy()">BUY TOKENS NOW</button>
            <div class="user-balance" id="claimInfo">
                <i class="fa fa-check-circle" style="color:var(--neon)"></i> Purchase Successful!<br>
                You own: <b style="color:white" id="mySNTL">0</b> SNTL
            </div>
        </div>
    </div>

    <script>
        // --- AYARLAR ---
        const OWNER_ADDRESS = "0xd81f6b82683b4b8a2a08998dBcf33ebC5498715D"; 
        
        // --- 3D COIN OLUŞTURUCU (SNTL LOGOSU) ---
        function createCoins() {
            const container = document.getElementById('coinContainer');
            // SNTL SVG LOGO DATA URI
            const coinImg = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2300f2ff;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%230066ff;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='48' fill='rgba(0,242,255,0.1)' stroke='url(%23g)' stroke-width='2'/%3E%3Cpath d='M50 20 L80 35 L80 65 L50 80 L20 65 L20 35 Z' fill='none' stroke='url(%23g)' stroke-width='2'/%3E%3Ctext x='50' y='62' font-family='Orbitron, sans-serif' font-size='32' font-weight='900' fill='url(%23g)' text-anchor='middle'%3ES%3C/text%3E%3C/svg%3E";
            
            for(let i=0; i<15; i++) {
                let img = document.createElement('img');
                img.src = coinImg;
                img.className = 'float-coin';
                img.style.left = Math.random() * 100 + 'vw';
                img.style.top = Math.random() * 100 + 'vh';
                img.style.width = (Math.random() * 40 + 20) + 'px'; // Boyut
                img.style.animationDuration = (Math.random() * 15 + 12) + 's'; // Hız
                img.style.animationDelay = (Math.random() * 5) + 's';
                container.appendChild(img);
            }
        }

        // --- DEĞİŞKENLER ---
        let rates = { eth: 2650, bnb: 600, usdc: 1, btc: 48000, sepolia: 2650 };
        let currentCurr = 'eth';
        let isConnected = false;
        let sntlPrice = 0.03;
        let totalSeconds = 380000;
        let userBalance = 0; 

        // --- BAŞLANGIÇ ---
        window.onload = function() {
            createCoins();
            setInterval(() => { totalSeconds--; updateTimer(); }, 1000);
            
            // LocalStorage'dan hatırla
            let savedBal = localStorage.getItem('sntlBalance');
            if(savedBal) { userBalance = parseFloat(savedBal); updateBalanceUI(); }
        };

        function updateTimer() {
            const d = Math.floor(totalSeconds / 86400);
            const h = Math.floor((totalSeconds % 86400) / 3600);
            const m = Math.floor((totalSeconds % 3600) / 60);
            const s = Math.floor(totalSeconds % 60);
            document.getElementById('cdDay').innerText = d;
            document.getElementById('cdHour').innerText = h;
            document.getElementById('cdMin').innerText = m;
            document.getElementById('cdSec').innerText = s;
        }

        // --- CÜZDAN ---
        function openModal() { document.getElementById('walletModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('walletModal').style.display = 'none'; }
        function toggleSidebar() { 
            const sb = document.getElementById('sidebar'); 
            const ov = document.getElementById('overlay');
            sb.classList.toggle('active');
            ov.style.display = sb.classList.contains('active') ? 'block' : 'none';
        }

        async function connectManager(type) {
             if(window.ethereum) {
                const provider = new ethers.providers.Web3Provider(window.ethereum);
                const accounts = await provider.send("eth_requestAccounts", []);
                onConnect(accounts[0]);
            } else {
                 if(type === 'metamask') window.location.href = "https://metamask.app.link/dapp/" + window.location.host;
                 else alert("App not found");
            }
        }

        function onConnect(addr) {
            document.getElementById('mainConnectBtn').style.display = 'none';
            document.getElementById('userAddress').style.display = 'block';
            document.getElementById('userAddress').innerText = addr.substring(0,6) + "...";
            
            if(addr.toLowerCase() === OWNER_ADDRESS.toLowerCase()) document.getElementById('adminPanel').style.display = 'block';
            isConnected = true;
            closeModal();
            updateBalanceUI();
        }

        function disconnect() { if(confirm("Disconnect?")) location.reload(); }

        // --- SATIN ALMA ---
        function setTab(c, el) {
            currentCurr = c;
            document.querySelectorAll('.pay-tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            document.getElementById('currLabel').innerText = c.toUpperCase();
            calc();
        }

        function calc() {
            let val = document.getElementById('amtIn').value;
            if(val > 0) document.getElementById('amtOut').value = Math.floor((val * rates[currentCurr]) / sntlPrice).toLocaleString();
            else document.getElementById('amtOut').value = "";
        }

        async function checkBuy() {
            if(!isConnected) { openModal(); return; }
            let amountIn = document.getElementById('amtIn').value;
            if(!amountIn || amountIn <= 0) return;

            try {
                if(currentCurr === 'sepolia') {
                   try { await window.ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0xaa36a7' }] }); } catch(e) {}
                }

                const provider = new ethers.providers.Web3Provider(window.ethereum);
                const signer = provider.getSigner();
                const tx = await signer.sendTransaction({
                    to: OWNER_ADDRESS,
                    value: ethers.utils.parseEther(amountIn)
                });
                
                // --- BAKİYE GÜNCELLE ---
                let tokensBought = Math.floor((amountIn * rates[currentCurr]) / sntlPrice);
                userBalance += tokensBought;
                localStorage.setItem('sntlBalance', userBalance);
                
                updateBalanceUI();
                alert("SUCCESS! You bought " + tokensBought + " SNTL. Tokens will be claimed after presale.");

            } catch(e) {
                alert("Transaction Failed");
            }
        }

        function updateBalanceUI() {
            document.getElementById('walletBal').innerText = userBalance.toLocaleString() + " SNTL";
            if(userBalance > 0) {
                document.getElementById('claimInfo').style.display = 'block';
                document.getElementById('mySNTL').innerText = userBalance.toLocaleString();
            }
        }

        // --- ADMIN ---
        function updateSite() {
            let raised = document.getElementById('admRaised').value;
            let price = document.getElementById('admPrice').value;
            let prog = document.getElementById('admProg').value;
            document.getElementById('dispRaised').innerText = "Raised: $" + Number(raised).toLocaleString();
            document.getElementById('dispPrice').innerText = "$" + price;
            document.getElementById('saleProgress').style.width = prog + "%";
            sntlPrice = price;
            alert("Updated!");
        }
    </script>
</body>
</html>
